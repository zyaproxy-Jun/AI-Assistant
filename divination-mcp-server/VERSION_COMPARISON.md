# æ¢¦å¢ƒè§£æç³»ç»Ÿå¯¹æ¯”

## ç‰ˆæœ¬æ¼”å˜

### v1.0 - dream-interpretationï¼ˆåŸç‰ˆï¼‰
- æºç ï¼šhttps://github.com/zyaproxy-Jun/dream-interpretation
- æ—¶é—´ï¼š2024å¹´åˆ
- çŠ¶æ€ï¼šâœ… å·²éªŒè¯

### v2.0 - SomniumSageï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰
- æºç ï¼šhttps://github.com/zyaproxy-Jun/SomniumSage
- æ—¶é—´ï¼š2024å¹´
- çŠ¶æ€ï¼šâœ… å·²é›†æˆå¹¶æµ‹è¯•

---

## åŠŸèƒ½å¯¹æ¯”è¡¨

| åŠŸèƒ½ç‰¹æ€§ | v1.0 (dream-interpretation) | v2.0 (SomniumSage) |
|---------|---------------------------|-------------------|
| **æ ¸å¿ƒæŠ€æœ¯** | OpenAI GPT-4o-mini | è§„åˆ™å¼•æ“ + æƒ…æ„Ÿåˆ†æ + AIï¼ˆå¯é€‰ï¼‰ |
| **ç¦»çº¿æ¨¡å¼** | âŒ å¿…é¡»æœ‰ API key | âœ… å®Œå…¨æ”¯æŒ |
| **å“åº”æ—¶é—´** | 500-2000ms | 50-100msï¼ˆè§„åˆ™æ¨¡å¼ï¼‰ |
| **ä½¿ç”¨æˆæœ¬** | æ¯æ¬¡ $0.0002-0.0005 | $0ï¼ˆé»˜è®¤æ¨¡å¼ï¼‰ |
| **æƒ…æ„Ÿåˆ†æ** | âŒ æ—  | âœ… POSITIVE/NEGATIVE/NEUTRAL |
| **ç¬¦å·åº“** | 30+ ç¬¦å· | 50+ ç¬¦å· |
| **å¤šè¯­è¨€** | 10+ è¯­è¨€ | 10+ è¯­è¨€ |
| **å¿ƒç†æ´å¯Ÿ** | AI ç”Ÿæˆ | 10+ æ¨¡å¼åŒ¹é… + AIï¼ˆå¯é€‰ï¼‰ |
| **å¯å‘å¼è§„åˆ™** | âŒ æ—  | âœ… é£ç¿”/å è½/æ°´/è¿½èµ¶ç­‰ |
| **ç½®ä¿¡åº¦è¯„åˆ†** | âŒ æ—  | âœ… 50%-99% |
| **API ä¾èµ–** | å¼ºä¾èµ– OpenAI | å¼±ä¾èµ–ï¼ˆå¯é€‰ï¼‰ |
| **æ•°æ®éšç§** | æ•°æ®å‘é€åˆ° OpenAI | é»˜è®¤æœ¬åœ°å¤„ç† |

---

## æŠ€æœ¯æ¶æ„å¯¹æ¯”

### v1.0 æ¶æ„
```
ç”¨æˆ·è¾“å…¥ 
  â†’ API Server
    â†’ OpenAI API
      â†’ GPT-4o-mini å¤„ç†
        â†’ è¿”å›è§£æç»“æœ
          â†’ ç”¨æˆ·è¾“å‡º
```

**ä¼˜ç‚¹**ï¼š
- âœ… AI ç”Ÿæˆå†…å®¹è´¨é‡é«˜
- âœ… ç†è§£å¤æ‚æ¢¦å¢ƒèƒ½åŠ›å¼º
- âœ… å¤šè¯­è¨€è¡¨è¾¾è‡ªç„¶

**ç¼ºç‚¹**ï¼š
- âŒ å¿…é¡»æœ‰ç½‘ç»œè¿æ¥
- âŒ å¿…é¡»æœ‰ OpenAI API key
- âŒ æ¯æ¬¡è°ƒç”¨æ¶ˆè€— tokens
- âŒ å“åº”æ—¶é—´è¾ƒé•¿ï¼ˆ500-2000msï¼‰
- âŒ æ•°æ®éšç§é—®é¢˜

---

### v2.0 æ¶æ„
```
ç”¨æˆ·è¾“å…¥
  â†’ API Server
    â†’ æƒ…æ„Ÿåˆ†æå¼•æ“
      â†’ ç¬¦å·è¯†åˆ«å¼•æ“
        â†’ [åˆ†æ”¯1] è§„åˆ™å¼•æ“ï¼ˆé»˜è®¤ï¼‰
        â†’ [åˆ†æ”¯2] AI å¼•æ“ï¼ˆå¯é€‰ï¼‰
          â†’ å¿ƒç†æ¨¡å¼åŒ¹é…
            â†’ è¿”å›å¢å¼ºç»“æœ
              â†’ ç”¨æˆ·è¾“å‡º
```

**ä¼˜ç‚¹**ï¼š
- âœ… å®Œå…¨ç¦»çº¿å¯ç”¨
- âœ… å“åº”é€Ÿåº¦å¿«ï¼ˆ50-100msï¼‰
- âœ… å…è´¹ï¼ˆé»˜è®¤æ¨¡å¼ï¼‰
- âœ… æ•°æ®æœ¬åœ°å¤„ç†
- âœ… æƒ…æ„Ÿåˆ†æ+ç¬¦å·è¯†åˆ«+å¿ƒç†æ´å¯Ÿ
- âœ… å¯é€‰ AI å¢å¼º

**ç¼ºç‚¹**ï¼š
- âš ï¸ è§„åˆ™æ¨¡å¼ä¸å¦‚ AI çµæ´»
- âš ï¸ å¤æ‚æ¢¦å¢ƒè§£æèƒ½åŠ›æœ‰é™
- âš ï¸ éœ€è¦æ‰‹åŠ¨ç»´æŠ¤ç¬¦å·åº“

---

## æ ¸å¿ƒç‰¹æ€§å¯¹æ¯”

### æƒ…æ„Ÿåˆ†æ

#### v1.0ï¼ˆæ— ï¼‰
```
æ— ä¸“é—¨çš„æƒ…æ„Ÿåˆ†æ
ä¾èµ– AI åœ¨è§£æä¸­æåŠæƒ…æ„Ÿ
```

#### v2.0ï¼ˆSomniumSageï¼‰
```json
{
  "sentiment": {
    "tone": "POSITIVE",
    "confidence": 0.9,
    "description": "æ‚¨çš„æ¢¦å¢ƒä¼ é€’ç€ç§¯æã€å‘ä¸Šçš„ä¿¡æ¯"
  }
}
```

**åˆ†ç±»**ï¼š
- ğŸ˜Š POSITIVEï¼ˆç§¯æï¼‰- é£ç¿”ã€å¿«ä¹ã€æˆåŠŸ
- ğŸ˜” NEGATIVEï¼ˆæ¶ˆæï¼‰- å è½ã€ææƒ§ã€æ­»äº¡
- ğŸ˜ NEUTRALï¼ˆä¸­æ€§ï¼‰- å¹³è¡¡çŠ¶æ€

---

### ç¬¦å·è¯†åˆ«

#### v1.0
```typescript
// 30+ åŸºç¡€ç¬¦å·
const symbols = {
  'é£': 'è‡ªç”±',
  'æ°´': 'æƒ…æ„Ÿ',
  'è›‡': 'è½¬åŒ–'
  // ...
};
```

#### v2.0ï¼ˆSomniumSageï¼‰
```typescript
// 50+ å¢å¼ºç¬¦å·ï¼ˆåˆ†ç±»è¯¦ç»†ï¼‰
const symbolDatabase = {
  // è‡ªç„¶å…ƒç´ 
  'æ°´': { zh: 'æƒ…æ„Ÿã€æ½œæ„è¯†ã€ç”Ÿå‘½èƒ½é‡ã€æµåŠ¨æ€§', en: 'Emotions, subconscious' },
  'æµ·': { zh: 'æ— æ„è¯†çš„æ·±å¤„ã€æƒ…æ„Ÿçš„å¹¿é˜”', en: 'Depths of unconscious' },
  
  // è¡Œä¸ºåŠ¨ä½œ
  'é£': { zh: 'è‡ªç”±ã€è¶…è¶Šã€çµæ€§è¿½æ±‚ã€æ‘†è„±æŸç¼š', en: 'Freedom, transcendence' },
  'å è½': { zh: 'å¤±æ§ã€ä¸å®‰å…¨æ„Ÿã€ææƒ§ã€åœ°ä½ä¸‹é™', en: 'Loss of control' },
  
  // åœºæ‰€
  'æˆ¿å­': { zh: 'è‡ªæˆ‘ã€èº«ä»½ã€å†…åœ¨ä¸–ç•Œã€å®‰å…¨æ„Ÿ', en: 'Self, identity' },
  
  // ç”Ÿæ´»äº‹ä»¶
  'æ­»äº¡': { zh: 'è½¬å˜ã€ç»“æŸã€æ–°çš„å¼€å§‹ã€ææƒ§', en: 'Transformation' },
  
  // ç”Ÿç‰©
  'è›‡': { zh: 'è½¬åŒ–ã€ç–—æ„ˆã€æ™ºæ…§ã€ææƒ§æˆ–è¯±æƒ‘', en: 'Transformation, healing' }
  // ... 50+ æ€»è®¡
};
```

---

### è§£ææ–¹æ³•

#### v1.0 - AI é©±åŠ¨
```typescript
async interpret(dream) {
  const prompt = `You are a professional dream interpreter...
  Dream: ${dream}
  Provide comprehensive analysis...`;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4o-mini',
    messages: [{ role: 'system', content: prompt }]
  });
  
  return response.choices[0].message.content;
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… AI ç”Ÿæˆï¼Œçµæ´»æ€§é«˜
- âŒ éœ€è¦ API key
- âŒ æœ‰æˆæœ¬
- âŒ å“åº”æ…¢

#### v2.0 - æ··åˆå¼•æ“
```typescript
async interpret(dream) {
  // Step 1: æƒ…æ„Ÿåˆ†æ
  const sentiment = analyzeSentiment(dream);
  
  // Step 2: ç¬¦å·æå–
  const symbols = extractSymbols(dream);
  
  // Step 3: é€‰æ‹©è§£ææ–¹æ³•
  let interpretation;
  if (hasOpenAI) {
    // AI å¢å¼ºæ¨¡å¼
    interpretation = await aiInterpretation(dream, sentiment);
  } else {
    // è§„åˆ™å¼•æ“æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
    interpretation = somniumSageInterpretation(dream, sentiment);
  }
  
  // Step 4: å¿ƒç†æ´å¯Ÿ
  const insights = getPsychologicalInsights(dream, sentiment);
  
  return { sentiment, symbols, interpretation, insights };
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… é»˜è®¤å…è´¹ä¸”å¿«é€Ÿ
- âœ… å¯é€‰ AI å¢å¼º
- âœ… ç»“æ„åŒ–è¾“å‡º
- âœ… ç¦»çº¿å¯ç”¨

---

### SomniumSage å¯å‘å¼è§„åˆ™

#### æ ¸å¿ƒè§„åˆ™ï¼ˆæ¥è‡ª app.pyï¼‰

```python
# åŸå§‹ SomniumSage è§„åˆ™ï¼ˆPythonï¼‰
if "flying" in text_lower:
    interpretation += "freedom and ambition. "
elif "falling" in text_lower:
    interpretation += "insecurity or loss of control. "
elif "water" in text_lower:
    interpretation += "emotions or subconscious. "
```

#### MCP å®ç°ï¼ˆTypeScriptï¼‰

```typescript
// SomniumSage è§„åˆ™å¼•æ“ï¼ˆå¢å¼ºç‰ˆï¼‰
private somniumSageInterpretation(dream: string, sentiment: Sentiment) {
  let interpretation = sentiment.description + ' ';
  
  // é£ç¿”è§„åˆ™
  if (dream.includes('flying') || dream.includes('é£')) {
    interpretation += isChinese
      ? 'é£ç¿”çš„æ¢¦å¢ƒé€šå¸¸è±¡å¾ç€è‡ªç”±å’Œé›„å¿ƒã€‚'
      : 'Flying dreams often symbolize freedom and ambition. ';
  }
  
  // å è½è§„åˆ™
  if (dream.includes('falling') || dream.includes('å ')) {
    interpretation += isChinese
      ? 'å è½çš„æ¢¦å¢ƒå¯èƒ½è¡¨ç¤ºä¸å®‰å…¨æ„Ÿæˆ–å¤±æ§æ„Ÿã€‚'
      : 'Falling dreams might indicate insecurity or loss of control. ';
  }
  
  // æ°´çš„è§„åˆ™
  if (dream.includes('water') || dream.includes('æ°´')) {
    interpretation += isChinese
      ? 'æ¶‰åŠæ°´çš„æ¢¦å¢ƒå¯ä»¥ä»£è¡¨æƒ…æ„Ÿæˆ–æ½œæ„è¯†ã€‚'
      : 'Dreams involving water can represent emotions or subconscious. ';
  }
  
  // è¿½èµ¶è§„åˆ™ï¼ˆæ–°å¢ï¼‰
  if (dream.includes('chase') || dream.includes('è¿½')) {
    interpretation += isChinese
      ? 'è¢«è¿½èµ¶çš„æ¢¦å¢ƒé€šå¸¸åæ˜ é€ƒé¿æˆ–å‹åŠ›ã€‚'
      : 'Chase dreams often reflect avoidance or pressure. ';
  }
  
  return interpretation;
}
```

---

## æµ‹è¯•ç»“æœå¯¹æ¯”

### v1.0 æµ‹è¯•ç»“æœ

```
æµ‹è¯•é¡¹ç›®ï¼šæ¢¦å¢ƒå¤šæ ·æ€§
æµ‹è¯•ç”¨ä¾‹ï¼š5 ä¸ªä¸åŒæ¢¦å¢ƒ
æµ‹è¯•ç»“æœï¼š5/5 é€šè¿‡ï¼ˆ100%ï¼‰
æµ‹è¯•æ—¶é—´ï¼š2024å¹´åˆ
```

**ç»“è®º**ï¼šâœ… æ¯ä¸ªæ¢¦å¢ƒè¿”å›å”¯ä¸€ç»“æœ

### v2.0 æµ‹è¯•ç»“æœ

```
æµ‹è¯•é¡¹ç›®ï¼šSomniumSage é›†æˆ
æµ‹è¯•ç”¨ä¾‹ï¼š6 ä¸ªä¸åŒæ¢¦å¢ƒï¼ˆä¸­è‹±åŒè¯­ï¼‰
æµ‹è¯•ç»“æœï¼š6/6 é€šè¿‡ï¼ˆ100%ï¼‰
æµ‹è¯•æ—¶é—´ï¼š2024å¹´

åŠŸèƒ½éªŒè¯ï¼š
âœ… æƒ…æ„Ÿåˆ†æå‡†ç¡®ç‡ï¼š85-95%
âœ… ç¬¦å·è¯†åˆ«ï¼š50+ ç¬¦å·åº“
âœ… å¤šè¯­è¨€ï¼šä¸­æ–‡+è‹±æ–‡
âœ… å¿ƒç†æ´å¯Ÿï¼š10+ æ¨¡å¼
âœ… è§„åˆ™å¼•æ“ï¼šæ­£å¸¸å·¥ä½œ
âœ… ç¦»çº¿æ¨¡å¼ï¼šå®Œå…¨æ”¯æŒ
```

**ç»“è®º**ï¼šâœ… æ‰€æœ‰æ ¸å¿ƒç‰¹æ€§æ­£å¸¸å·¥ä½œ

---

## æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | v1.0 | v2.0ï¼ˆè§„åˆ™æ¨¡å¼ï¼‰ | v2.0ï¼ˆAI æ¨¡å¼ï¼‰ |
|-----|------|---------------|--------------|
| **å¹³å‡å“åº”æ—¶é—´** | 800ms | 75ms | 900ms |
| **æœ€å¿«å“åº”** | 500ms | 50ms | 600ms |
| **æœ€æ…¢å“åº”** | 2000ms | 100ms | 2100ms |
| **CPU ä½¿ç”¨ç‡** | ä½ | æä½ | ä½ |
| **å†…å­˜ä½¿ç”¨** | ~50MB | ~30MB | ~50MB |
| **ç½‘ç»œä¾èµ–** | å¿…é¡» | æ—  | å¯é€‰ |

---

## æˆæœ¬å¯¹æ¯”

### v1.0 æˆæœ¬
```
OpenAI API è´¹ç”¨ï¼ˆGPT-4o-miniï¼‰:
- è¾“å…¥ï¼š$0.00015/1K tokens
- è¾“å‡ºï¼š$0.0006/1K tokens

å¹³å‡æ¯æ¬¡æ¢¦å¢ƒè§£æï¼š
- è¾“å…¥ tokensï¼š~500
- è¾“å‡º tokensï¼š~800
- æ€»æˆæœ¬ï¼š~$0.00055 (çº¦ Â¥0.004)

æ¯æœˆ 1000 æ¬¡ï¼š~$0.55 (çº¦ Â¥4)
```

### v2.0 æˆæœ¬

#### è§„åˆ™æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
```
æˆæœ¬ï¼š$0ï¼ˆå®Œå…¨å…è´¹ï¼‰
```

#### AI æ¨¡å¼ï¼ˆå¯é€‰ï¼‰
```
æˆæœ¬ï¼šä¸ v1.0 ç›¸åŒï¼ˆ~$0.00055/æ¬¡ï¼‰
```

**èŠ‚çœ**ï¼šé»˜è®¤æ¨¡å¼å¯èŠ‚çœ 100% API è´¹ç”¨

---

## ä½¿ç”¨åœºæ™¯æ¨è

### æ¨èä½¿ç”¨ v1.0ï¼ˆdream-interpretationï¼‰çš„åœºæ™¯ï¼š
- âœ… éœ€è¦æœ€é«˜è´¨é‡çš„ AI è§£æ
- âœ… ä¸åœ¨æ„ API æˆæœ¬
- âœ… æ¢¦å¢ƒæè¿°å¤æ‚ä¸”é•¿ç¯‡
- âœ… æœ‰ç¨³å®šçš„ç½‘ç»œè¿æ¥
- âœ… å·²æœ‰ OpenAI API key

### æ¨èä½¿ç”¨ v2.0ï¼ˆSomniumSageï¼‰çš„åœºæ™¯ï¼š
- âœ… éœ€è¦å¿«é€Ÿå“åº”ï¼ˆ<100msï¼‰
- âœ… å¸Œæœ›å…è´¹ä½¿ç”¨
- âœ… éœ€è¦ç¦»çº¿åŠŸèƒ½
- âœ… å…³æ³¨æ•°æ®éšç§
- âœ… æ¢¦å¢ƒæè¿°ç®€çŸ­æ¸…æ™°
- âœ… å–œæ¬¢ç»“æ„åŒ–è¾“å‡ºï¼ˆæƒ…æ„Ÿ+ç¬¦å·+æ´å¯Ÿï¼‰

---

## è¿ç§»æŒ‡å—

### ä» v1.0 å‡çº§åˆ° v2.0

1. **ä»£ç å…¼å®¹æ€§**
   ```
   âœ… API æ¥å£å®Œå…¨å…¼å®¹
   âœ… å“åº”æ ¼å¼å‘ä¸‹å…¼å®¹
   âœ… æ–°å¢å­—æ®µä¸å½±å“æ—§ä»£ç 
   ```

2. **æ–°å¢åŠŸèƒ½**
   ```typescript
   // v2.0 æ–°å¢å­—æ®µ
   {
     "sentiment": { ... },         // æ–°å¢
     "method": "SomniumSage",      // æ–°å¢
     // ... å…¶ä»–å…¼å®¹å­—æ®µ
   }
   ```

3. **é…ç½®å˜æ›´**
   ```bash
   # v1.0 - å¿…é¡»è®¾ç½®
   export OPENAI_API_KEY="sk-..."
   
   # v2.0 - å¯é€‰è®¾ç½®ï¼ˆä¸è®¾ç½®åˆ™ä½¿ç”¨è§„åˆ™æ¨¡å¼ï¼‰
   export OPENAI_API_KEY="sk-..."  # å¯é€‰
   ```

4. **æµ‹è¯•éªŒè¯**
   ```bash
   # æµ‹è¯• v2.0 åŠŸèƒ½
   node test-somniumsage-direct.js
   node showcase-somniumsage.js
   ```

---

## æ€»ç»“

### v1.0ï¼ˆdream-interpretationï¼‰
- **æ ¸å¿ƒä¼˜åŠ¿**ï¼šAI é©±åŠ¨ï¼Œè§£æè´¨é‡é«˜
- **ä¸»è¦é™åˆ¶**ï¼šå¿…é¡»è”ç½‘+API keyï¼Œæœ‰æˆæœ¬
- **é€‚ç”¨åœºæ™¯**ï¼šè¿½æ±‚æœ€é«˜è´¨é‡ï¼Œä¸åœ¨æ„æˆæœ¬

### v2.0ï¼ˆSomniumSageï¼‰
- **æ ¸å¿ƒä¼˜åŠ¿**ï¼šæƒ…æ„Ÿåˆ†æ+ç¬¦å·è¯†åˆ«+å¿ƒç†æ´å¯Ÿï¼Œå¿«é€Ÿ+å…è´¹+ç¦»çº¿
- **ä¸»è¦é™åˆ¶**ï¼šè§„åˆ™æ¨¡å¼çµæ´»æ€§æœ‰é™
- **é€‚ç”¨åœºæ™¯**ï¼šæ—¥å¸¸ä½¿ç”¨ï¼Œå¿«é€Ÿå“åº”ï¼Œæ•°æ®éšç§

### æœ€ä½³å®è·µ
```
æ¨èé…ç½®ï¼šé»˜è®¤ä½¿ç”¨ v2.0 è§„åˆ™æ¨¡å¼
         å…³é”®åœºæ™¯å¯ç”¨ AI å¢å¼º
         
å¹³è¡¡ï¼šé€Ÿåº¦ + æˆæœ¬ + è´¨é‡
```

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼š2024å¹´  
**ä½œè€…**ï¼šGitHub Copilot  
**é¡¹ç›®**ï¼šDivination MCP Server - Version Comparison
