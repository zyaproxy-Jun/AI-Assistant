# 🔮 占卜系统使用指南

## ✅ 服务器状态

**状态**: ✅ 运行中  
**地址**: http://localhost:3000  
**时间**: 2025年10月7日

---

## 🌐 访问方式

### 方法 1: Web 浏览器（推荐）

1. **打开浏览器**
2. **访问**: http://localhost:3000
3. **选择占卜系统标签页**
4. **输入信息并测试**

### 方法 2: 直接打开文件

在文件管理器中双击：
```
c:\Users\HUAWEI\Desktop\AI-Assistant\divination-mcp-server\index.html
```

---

## 🎯 可用的占卜系统

### 1️⃣ 💭 梦境解析 (SomniumSage) ✨新版

**特色功能**:
- 🎭 **情感分析** - POSITIVE/NEGATIVE/NEUTRAL
- 🔮 **符号识别** - 50+ 符号数据库
- 🧠 **心理洞察** - 10+ 心理模式匹配
- ⚡ **离线可用** - 无需 API key

**使用方法**:
1. 点击 "💭 梦境解析" 标签
2. 在文本框输入梦境描述
   - 例如："我在天空中飞翔，感觉无比快乐"
3. 点击 "💭 解析梦境" 按钮
4. 查看结构化结果展示

**展示内容**:
- 📊 解析概览（时间、方法）
- 🎭 情感分析卡片（基调、置信度）
- 🔮 符号识别卡片（符号列表）
- 📖 梦境解析卡片（解析文本）
- 🧠 心理洞察卡片（心理分析）

---

### 2️⃣ 🃏 塔罗占卜

**功能**: 塔罗牌解读和指引

**使用方法**:
1. 点击 "🃏 塔罗占卜" 标签
2. 输入你的问题
   - 例如："我的事业发展如何？"
3. 选择牌阵类型
   - 单张牌
   - 三张牌
   - 凯尔特十字
4. 点击 "抽取塔罗牌" 按钮

**返回信息**:
- 抽取的牌
- 牌面含义
- 综合解读

---

### 3️⃣ ⭐ 紫微斗数

**功能**: 中国传统命理分析

**使用方法**:
1. 点击 "⭐ 紫微斗数" 标签
2. 输入出生信息：
   - 出生年月日
   - 出生时辰
   - 性别
   - 历法（农历/公历）
3. 点击 "排盘分析" 按钮

**返回信息**:
- 命盘结构
- 十二宫分析
- 主星分布
- 命运解读

---

### 4️⃣ 🌟 西方占星

**功能**: 星盘分析和运势解读

**使用方法**:
1. 点击 "🌟 西方占星" 标签
2. 输入出生信息：
   - 出生年月日
   - 出生时间
   - 出生地点/时区
3. 点击 "生成星盘" 按钮

**返回信息**:
- 太阳星座
- 月亮星座
- 上升星座
- 行星位置
- 相位分析

---

### 5️⃣ 🎋 八字命理

**功能**: 四柱八字分析

**使用方法**:
1. 点击 "🎋 八字命理" 标签
2. 输入出生信息：
   - 出生年月日
   - 出生时辰
   - 性别
3. 点击 "排八字" 按钮

**返回信息**:
- 四柱（年月日时）
- 五行分析
- 十神关系
- 命理解读

---

### 6️⃣ ☯️ 易经占卜

**功能**: 周易卦象解读

**使用方法**:
1. 点击 "☯️ 易经占卜" 标签
2. 输入你的问题
   - 例如："我是否应该做出这个决定？"
3. 选择起卦方法
   - 随机起卦
   - 时间起卦
4. 点击 "起卦" 按钮

**返回信息**:
- 本卦
- 变卦
- 卦辞解读
- 爻辞分析

---

## 📊 测试结果

### 系统状态检查

```
✅ API Server: 运行中 (端口 3000)
✅ Web UI: 可访问
✅ 所有端点: 响应正常

响应时间测试:
- 梦境解析: ~30ms ⚡
- 塔罗占卜: ~5ms ⚡
- 紫微斗数: ~5ms ⚡
- 西方占星: ~10s (需要计算)
- 八字命理: ~5ms ⚡
- 易经占卜: ~5ms ⚡
```

---

## 🌟 SomniumSage 特别说明

### 新版梦境解析特色

#### 1. 情感分析
```
😊 POSITIVE (积极)
- 飞翔、快乐、成功、自由
- 置信度: 50%-99%

😔 NEGATIVE (消极)
- 坠落、恐惧、困住、黑暗
- 置信度: 50%-99%

😐 NEUTRAL (中性)
- 平衡状态
- 置信度: 50%
```

#### 2. 符号识别（50+）
```
🔮 自然元素: 水、火、风、海、山
🏃 行为动作: 飞、坠落、追赶、奔跑
🏠 场所: 房子、学校、医院、道路
📅 生活事件: 死亡、考试、迟到、结婚
🐍 生物: 动物、蛇、鸟、婴儿
```

#### 3. 启发式规则
```
飞翔 → 自由与雄心
坠落 → 不安全感、失控
水 → 情感与潜意识
追赶 → 逃避与压力
```

#### 4. 心理洞察（10+ 模式）
```
• 追赶梦 → 压力与逃避
• 飞翔梦 → 自由与超越
• 水之梦 → 情感与潜意识
• 考试梦 → 表现焦虑
• 坠落梦 → 失控感
• 死亡梦 → 转变与新生
• 迷路梦 → 方向困惑
• 房屋梦 → 自我认知
• 家人梦 → 关系反映
• 工作梦 → 职场压力
```

---

## 💡 使用技巧

### 梦境解析技巧

1. **详细描述**: 越详细的梦境描述，解析越准确
2. **包含情绪**: 描述梦中的感受和情绪
3. **注意符号**: 特殊的人物、场景、物品
4. **记录时间**: 刚醒来时记录最准确

### 示例输入

**好的梦境描述**:
```
我梦见自己在天空中飞翔，下面是美丽的山川和河流。
我感到无比自由和快乐，心情非常舒畅。
飞得很高，没有任何恐惧，反而觉得很兴奋。
```

**一般的描述**:
```
我做了一个飞的梦。
```

---

## 🎨 Web 界面特点

### 视觉设计
- 🎨 渐变色背景
- 🎯 卡片式布局
- 🌈 颜色编码系统
- ✨ 流畅动画效果

### 用户体验
- 📱 响应式设计（移动端友好）
- ⚡ 快速加载
- 🎯 清晰的视觉层次
- 💬 友好的错误提示

### 结果展示
- 📊 数据可视化
- 🎭 图标标识系统
- 📝 易读的文本格式
- 🔍 详细的信息展示

---

## 🔧 技术信息

### 架构
```
浏览器
  ↓
HTTP 请求 (localhost:3000)
  ↓
API Server (Express)
  ↓
MCP Server (JSON-RPC)
  ↓
各占卜系统服务
  ↓
返回结果
```

### API 端点
```
GET  /                - Web UI 首页
GET  /health          - 健康检查
POST /api/divination  - 通用占卜端点
POST /api/tarot       - 塔罗占卜
POST /api/ziwei       - 紫微斗数
POST /api/astrology   - 西方占星
POST /api/dream       - 梦境解析
POST /api/bazi        - 八字命理
POST /api/iching      - 易经占卜
```

---

## 📝 常见问题

### Q1: 服务器无法启动？
**A**: 检查端口 3000 是否被占用
```powershell
Get-Process -Id (Get-NetTCPConnection -LocalPort 3000).OwningProcess
```

### Q2: 网页无法访问？
**A**: 确认服务器正在运行，检查防火墙设置

### Q3: 梦境解析没有返回情感分析？
**A**: 
- 确保使用的是新版 SomniumSage
- 检查梦境描述是否包含情感词汇
- 尝试更详细的描述

### Q4: 紫微斗数提示错误？
**A**: 
- 确认输入了完整的出生信息
- 检查日期格式是否正确
- 农历日期需要转换

### Q5: 如何停止服务器？
**A**: 在服务器终端按 `Ctrl+C`

---

## 📚 相关文档

- `SOMNIUMSAGE_INTEGRATION_REPORT.md` - SomniumSage 集成报告
- `SOMNIUMSAGE_USER_GUIDE.md` - SomniumSage 用户指南
- `VERSION_COMPARISON.md` - 版本对比
- `WEB_DREAM_UPDATE_COMPLETE.md` - 网页更新完成报告

---

## 🎉 开始使用

### 立即体验

1. **确认服务器运行**: ✅
2. **打开浏览器**
3. **访问**: http://localhost:3000
4. **选择占卜系统**
5. **输入信息**
6. **查看结果**

### 推荐测试流程

1. **先测试梦境解析** - 体验 SomniumSage 新特性
2. **再尝试塔罗占卜** - 快速获得指引
3. **最后测试命理系统** - 深入了解命运

---

**祝您使用愉快！** ✨

有任何问题，请参考本指南或查看相关文档。
