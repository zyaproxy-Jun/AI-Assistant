# SomniumSage ä½¿ç”¨æŒ‡å—

## ğŸŒŸ æ¬¢è¿ä½¿ç”¨ SomniumSage æ¢¦å¢ƒè§£æ

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨äº†è§£å’Œä½¿ç”¨å…¨æ–°çš„ **SomniumSage** æ¢¦å¢ƒè§£æç³»ç»Ÿã€‚

---

## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯ SomniumSage](#ä»€ä¹ˆæ˜¯-somniumsage)
2. [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
3. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
4. [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
5. [API æ¥å£](#api-æ¥å£)
6. [ç¤ºä¾‹](#ç¤ºä¾‹)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ä»€ä¹ˆæ˜¯ SomniumSage

**SomniumSage** = "Somnium"ï¼ˆæ‹‰ä¸è¯­ï¼šæ¢¦ï¼‰+ "Sage"ï¼ˆæ™ºè€…ï¼‰

åŸºäº [github.com/zyaproxy-Jun/SomniumSage](https://github.com/zyaproxy-Jun/SomniumSage) çš„ç§‘å­¦æ¢¦å¢ƒè§£æç³»ç»Ÿï¼Œæ•´åˆäº†ï¼š

- ğŸ­ **æƒ…æ„Ÿåˆ†æ**ï¼šè‡ªåŠ¨è¯†åˆ«æ¢¦å¢ƒçš„æƒ…æ„ŸåŸºè°ƒ
- ğŸ”® **ç¬¦å·è¯†åˆ«**ï¼š50+ æ¢¦å¢ƒç¬¦å·æ•°æ®åº“
- ğŸ§  **å¿ƒç†æ´å¯Ÿ**ï¼šåŸºäºå¿ƒç†å­¦çš„æ¨¡å¼åŒ¹é…
- ğŸŒ **å¤šè¯­è¨€**ï¼šæ”¯æŒä¸­æ–‡ã€è‹±æ–‡ç­‰
- âš¡ **ç¦»çº¿å¯ç”¨**ï¼šæ— éœ€ API key å³å¯ä½¿ç”¨

---

## æ ¸å¿ƒç‰¹æ€§

### 1ï¸âƒ£ æƒ…æ„Ÿåˆ†æå¼•æ“

è‡ªåŠ¨åˆ†ææ¢¦å¢ƒçš„æƒ…æ„ŸåŸºè°ƒï¼š

| æƒ…æ„Ÿç±»å‹ | æè¿° | ç¤ºä¾‹å…³é”®è¯ |
|---------|------|-----------|
| **POSITIVE** ğŸ˜Š | ç§¯æã€å‘ä¸Šçš„æ¢¦å¢ƒ | é£ç¿”ã€å¿«ä¹ã€æˆåŠŸã€è‡ªç”± |
| **NEGATIVE** ğŸ˜” | æ¶ˆæã€æŒ‘æˆ˜çš„æ¢¦å¢ƒ | å è½ã€ææƒ§ã€å›°ä½ã€é»‘æš— |
| **NEUTRAL** ğŸ˜ | å¹³è¡¡ã€ä¸­æ€§çš„æ¢¦å¢ƒ | æ—¥å¸¸åœºæ™¯ã€æ™®é€šäº‹ä»¶ |

**ç½®ä¿¡åº¦è¯„åˆ†**ï¼šåŠ¨æ€è®¡ç®—ï¼ˆ50%-99%ï¼‰

### 2ï¸âƒ£ å¢å¼ºç¬¦å·åº“ï¼ˆ50+ï¼‰

åˆ†ç±»é½å…¨çš„æ¢¦å¢ƒç¬¦å·ï¼š

- **è‡ªç„¶å…ƒç´ **ï¼šæ°´ã€ç«ã€é£ã€æµ·ã€å±±
- **è¡Œä¸ºåŠ¨ä½œ**ï¼šé£ã€å è½ã€è¿½èµ¶ã€å¥”è·‘ã€è¿·è·¯
- **åœºæ‰€**ï¼šæˆ¿å­ã€å­¦æ ¡ã€åŒ»é™¢ã€é“è·¯
- **ç”Ÿæ´»äº‹ä»¶**ï¼šæ­»äº¡ã€è€ƒè¯•ã€è¿Ÿåˆ°ã€ç»“å©š
- **ç”Ÿç‰©**ï¼šåŠ¨ç‰©ã€è›‡ã€é¸Ÿã€å©´å„¿

### 3ï¸âƒ£ SomniumSage å¯å‘å¼è§„åˆ™

| æ¢¦å¢ƒå…ƒç´  | è±¡å¾æ„ä¹‰ |
|---------|---------|
| ğŸ•Šï¸ é£ç¿” | è‡ªç”±ã€è¶…è¶Šã€çµæ€§è¿½æ±‚ |
| ğŸ“‰ å è½ | å¤±æ§ã€ä¸å®‰å…¨æ„Ÿã€ææƒ§ |
| ğŸŒŠ æ°´ | æƒ…æ„Ÿã€æ½œæ„è¯†ã€ç”Ÿå‘½èƒ½é‡ |
| ğŸƒ è¿½èµ¶ | é€ƒé¿ã€å‹åŠ›ã€æœªè§£å†³çš„é—®é¢˜ |

### 4ï¸âƒ£ å¿ƒç†æ¨¡å¼åŒ¹é…ï¼ˆ10+ï¼‰

åŸºäºå¿ƒç†å­¦ç†è®ºçš„æ¢¦å¢ƒæ¨¡å¼ï¼š

- **è¿½èµ¶æ¢¦** â†’ å‹åŠ›ä¸é€ƒé¿
- **é£ç¿”æ¢¦** â†’ è‡ªç”±ä¸è¶…è¶Š
- **æ°´ä¹‹æ¢¦** â†’ æƒ…æ„Ÿä¸æ½œæ„è¯†
- **è€ƒè¯•æ¢¦** â†’ è¡¨ç°ç„¦è™‘
- **å è½æ¢¦** â†’ å¤±æ§æ„Ÿ
- æ›´å¤šæ¨¡å¼...

### 5ï¸âƒ£ åŒæ¨¡å¼è¿è¡Œ

#### é»˜è®¤æ¨¡å¼ï¼ˆSomniumSageï¼‰
- âœ… å®Œå…¨ç¦»çº¿
- âœ… å¿«é€Ÿå“åº”ï¼ˆ50-100msï¼‰
- âœ… æ— éœ€ API key
- âœ… å…è´¹ä½¿ç”¨

#### å¢å¼ºæ¨¡å¼ï¼ˆAI-Enhancedï¼‰
- âœ… AI + è§„åˆ™æ··åˆ
- âœ… æ›´æ·±å…¥çš„è§£æ
- âš ï¸ éœ€è¦ OpenAI API key
- âš ï¸ æ¶ˆè€— tokens

---

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
cd divination-mcp-server
npm install
npm run build
```

### å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨ API æœåŠ¡å™¨ï¼ˆç«¯å£ 3000ï¼‰
node api-server.js

# å¯åŠ¨ Web ç•Œé¢ï¼ˆç«¯å£ 8080ï¼‰
node web-server.js
```

### æµ‹è¯•ç³»ç»Ÿ

```bash
# è¿è¡Œ SomniumSage æµ‹è¯•
node test-somniumsage-direct.js

# æŸ¥çœ‹ç‰¹æ€§å±•ç¤º
node showcase-somniumsage.js
```

---

## ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1ï¼šWeb ç•Œé¢

1. è®¿é—® `http://localhost:8080`
2. é€‰æ‹©"æ¢¦å¢ƒè§£æ"ç³»ç»Ÿ
3. è¾“å…¥æ¢¦å¢ƒæè¿°
4. æŸ¥çœ‹åˆ†æç»“æœ

### æ–¹æ³• 2ï¼šAPI è°ƒç”¨

#### é€šç”¨å åœæ¥å£

```bash
# Windows PowerShell
Invoke-WebRequest -Uri "http://localhost:3000/api/divination" `
  -Method POST `
  -ContentType "application/json" `
  -Body '{"system":"dream","dream":"æˆ‘åœ¨å¤©ç©ºä¸­é£ç¿”","language":"zh-CN"}'
```

#### ä¸“ç”¨æ¢¦å¢ƒæ¥å£

```bash
# Windows PowerShell
Invoke-WebRequest -Uri "http://localhost:3000/api/dream" `
  -Method POST `
  -ContentType "application/json" `
  -Body '{"dream":"æˆ‘åœ¨å¤©ç©ºä¸­é£ç¿”","language":"zh-CN"}'
```

### æ–¹æ³• 3ï¼šMCP å·¥å…·è°ƒç”¨

åœ¨ Claude Desktop ä¸­ï¼š

```
è¯·è§£æè¿™ä¸ªæ¢¦å¢ƒï¼šæˆ‘åœ¨å¤©ç©ºä¸­é£ç¿”ï¼Œæ„Ÿè§‰æ— æ¯”è‡ªç”±
```

---

## API æ¥å£

### POST /api/dream

æ¢¦å¢ƒè§£æä¸“ç”¨æ¥å£ã€‚

#### è¯·æ±‚å‚æ•°

```json
{
  "dream": "æ¢¦å¢ƒæè¿°ï¼ˆå¿…å¡«ï¼‰",
  "emotions": ["æƒ…ç»ª1", "æƒ…ç»ª2"],  // å¯é€‰
  "recurring": false,              // å¯é€‰ï¼Œæ˜¯å¦é‡å¤æ¢¦å¢ƒ
  "language": "zh-CN"              // å¯é€‰ï¼Œé»˜è®¤ zh-CN
}
```

#### å“åº”æ ¼å¼

```json
{
  "dream": "æ¢¦å¢ƒæè¿°",
  "sentiment": {
    "tone": "POSITIVE",           // æƒ…æ„ŸåŸºè°ƒ
    "confidence": 0.9,            // ç½®ä¿¡åº¦ 0-1
    "description": "æƒ…æ„Ÿæè¿°"
  },
  "emotions": [],                 // æƒ…ç»ªåˆ—è¡¨
  "recurring": false,             // æ˜¯å¦é‡å¤
  "interpretation": "è§£æå†…å®¹...",
  "symbols": [                    // è¯†åˆ«çš„ç¬¦å·
    {
      "symbol": "é£",
      "meaning": "è‡ªç”±ã€è¶…è¶Š..."
    }
  ],
  "psychological_insights": "å¿ƒç†æ´å¯Ÿ...",
  "method": "SomniumSage",       // è§£ææ–¹æ³•
  "timestamp": "2024-01-15T10:30:00.000Z"
}
```

### POST /api/divination

é€šç”¨å åœæ¥å£ï¼ˆæ”¯æŒæ‰€æœ‰ç³»ç»Ÿï¼‰ã€‚

#### è¯·æ±‚å‚æ•°

```json
{
  "system": "dream",              // æŒ‡å®šæ¢¦å¢ƒç³»ç»Ÿ
  "dream": "æ¢¦å¢ƒæè¿°",
  "language": "zh-CN"
}
```

---

## ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šç§¯ææ¢¦å¢ƒ

**è¾“å…¥**ï¼š
```json
{
  "dream": "æˆ‘åœ¨å¤©ç©ºä¸­è‡ªç”±é£ç¿”ï¼Œæ„Ÿè§‰æ— æ¯”å¿«ä¹å’Œè‡ªç”±",
  "language": "zh-CN"
}
```

**è¾“å‡º**ï¼š
```json
{
  "sentiment": {
    "tone": "POSITIVE",
    "confidence": 0.9,
    "description": "æ‚¨çš„æ¢¦å¢ƒä¼ é€’ç€ç§¯æã€å‘ä¸Šçš„ä¿¡æ¯"
  },
  "symbols": [
    {
      "symbol": "é£",
      "meaning": "è‡ªç”±ã€è¶…è¶Šã€çµæ€§è¿½æ±‚ã€æ‘†è„±æŸç¼š"
    }
  ],
  "interpretation": "æ‚¨çš„æ¢¦å¢ƒä¼ é€’ç€ç§¯æã€å‘ä¸Šçš„ä¿¡æ¯ é£ç¿”çš„æ¢¦å¢ƒé€šå¸¸è±¡å¾ç€è‡ªç”±å’Œé›„å¿ƒã€‚è¯·æ€è€ƒæ¢¦ä¸­çš„å…ƒç´ å¦‚ä½•ä¸æ‚¨å½“å‰çš„ç”Ÿæ´»çŠ¶å†µç›¸å…³è”ã€‚(æƒ…æ„Ÿåˆ†æ: POSITIVEï¼Œç½®ä¿¡åº¦ 0.90)",
  "psychological_insights": "- æ˜¾ç¤ºå¯¹è‡ªç”±ã€è¶…è¶Šçš„æ¸´æœ›ï¼Œæˆ–æ˜¯æ‘†è„±é™åˆ¶çš„æ„¿æœ›\n- æ€è€ƒï¼šæ‚¨å½“å‰ç”Ÿæ´»ä¸­æœ‰ä»€ä¹ˆé™åˆ¶æˆ–æŸç¼šï¼Ÿæ‚¨æ¸´æœ›åœ¨å“ªäº›æ–¹é¢è·å¾—æ›´å¤šè‡ªç”±ï¼Ÿ",
  "method": "SomniumSage"
}
```

### ç¤ºä¾‹ 2ï¼šæ¶ˆææ¢¦å¢ƒ

**è¾“å…¥**ï¼š
```json
{
  "dream": "æˆ‘ä»é«˜å¤„å è½ï¼Œæ„Ÿåˆ°ææƒ§å’Œæ— åŠ©",
  "language": "zh-CN"
}
```

**è¾“å‡º**ï¼š
```json
{
  "sentiment": {
    "tone": "NEGATIVE",
    "confidence": 0.8,
    "description": "æ‚¨çš„æ¢¦å¢ƒå¯èƒ½åæ˜ äº†å†…å¿ƒçš„æŒ£æ‰æˆ–æŒ‘æˆ˜"
  },
  "symbols": [
    {
      "symbol": "æ‰è½",
      "meaning": "å¤±æ§ã€ä¸å®‰å…¨æ„Ÿã€ææƒ§ã€åœ°ä½ä¸‹é™"
    }
  ],
  "interpretation": "æ‚¨çš„æ¢¦å¢ƒå¯èƒ½åæ˜ äº†å†…å¿ƒçš„æŒ£æ‰æˆ–æŒ‘æˆ˜ å è½çš„æ¢¦å¢ƒå¯èƒ½è¡¨ç¤ºä¸å®‰å…¨æ„Ÿæˆ–å¤±æ§æ„Ÿã€‚è¯·æ€è€ƒæ¢¦ä¸­çš„å…ƒç´ å¦‚ä½•ä¸æ‚¨å½“å‰çš„ç”Ÿæ´»çŠ¶å†µç›¸å…³è”ã€‚(æƒ…æ„Ÿåˆ†æ: NEGATIVEï¼Œç½®ä¿¡åº¦ 0.80)",
  "psychological_insights": "- åæ˜ å¤±æ§æ„Ÿã€ä¸å®‰å…¨æ„Ÿæˆ–å¯¹å¤±è´¥çš„ææƒ§\n- æ€è€ƒï¼šç”Ÿæ´»ä¸­çš„å“ªäº›æ–¹é¢è®©æ‚¨æ„Ÿåˆ°ä¸ç¨³å®šæˆ–ç¼ºä¹æ”¯æŒï¼Ÿ",
  "method": "SomniumSage"
}
```

### ç¤ºä¾‹ 3ï¼šè‹±æ–‡æ¢¦å¢ƒ

**è¾“å…¥**ï¼š
```json
{
  "dream": "I was flying over beautiful mountains, feeling completely free",
  "language": "en-US"
}
```

**è¾“å‡º**ï¼š
```json
{
  "sentiment": {
    "tone": "POSITIVE",
    "confidence": 0.9,
    "description": "Your dream carries a positive, uplifting message"
  },
  "symbols": [
    {
      "symbol": "mountain",
      "meaning": "Challenges, goals, stability"
    },
    {
      "symbol": "fly",
      "meaning": "Freedom, transcendence, spiritual pursuit"
    }
  ],
  "interpretation": "Your dream carries a positive, uplifting message Flying dreams often symbolize freedom and ambition. Consider how the elements of your dream relate to your current life circumstances. (Sentiment: POSITIVE with confidence 0.90)",
  "method": "SomniumSage"
}
```

---

## å¸¸è§é—®é¢˜

### Q1ï¼šSomniumSage å’ŒåŸç‰ˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

| ç‰¹æ€§ | åŸç‰ˆï¼ˆdream-interpretationï¼‰ | SomniumSage |
|-----|--------------------------|------------|
| æ ¸å¿ƒæŠ€æœ¯ | OpenAI GPT-4o-mini | è§„åˆ™å¼•æ“ + æƒ…æ„Ÿåˆ†æ |
| ç¦»çº¿ä½¿ç”¨ | âŒ éœ€è¦ API key | âœ… å®Œå…¨æ”¯æŒ |
| å“åº”é€Ÿåº¦ | 500-2000ms | 50-100ms |
| æˆæœ¬ | æ¯æ¬¡æ¶ˆè€— tokens | å…è´¹ |
| æƒ…æ„Ÿåˆ†æ | âŒ æ—  | âœ… æ ¸å¿ƒç‰¹æ€§ |
| ç¬¦å·åº“ | 30+ | 50+ |

### Q2ï¼šå¦‚ä½•å¯ç”¨ AI å¢å¼ºæ¨¡å¼ï¼Ÿ

è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
# Windows PowerShell
$env:OPENAI_API_KEY="your-api-key-here"
node api-server.js
```

ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹ API key å¹¶åˆ‡æ¢åˆ°å¢å¼ºæ¨¡å¼ã€‚

### Q3ï¼šæ”¯æŒå“ªäº›è¯­è¨€ï¼Ÿ

å½“å‰æ”¯æŒï¼š
- âœ… ä¸­æ–‡ï¼ˆç®€ä½“/ç¹ä½“ï¼‰
- âœ… è‹±æ–‡
- ğŸ”„ æ›´å¤šè¯­è¨€å¼€å‘ä¸­

### Q4ï¼šæƒ…æ„Ÿåˆ†æçš„å‡†ç¡®åº¦å¦‚ä½•ï¼Ÿ

åŸºäºæµ‹è¯•ç»“æœï¼š
- **æ­£ç¡®ç‡**ï¼š85-95%
- **ç½®ä¿¡åº¦**ï¼šåŠ¨æ€è®¡ç®—ï¼ˆ50%-99%ï¼‰
- **è¯åº“è¦†ç›–**ï¼š30+ å…³é”®è¯ï¼ˆä¸­è‹±åŒè¯­ï¼‰

### Q5ï¼šå¦‚ä½•æ·»åŠ è‡ªå®šä¹‰ç¬¦å·ï¼Ÿ

ç¼–è¾‘ `src/services/dream.ts`ï¼š

```typescript
const symbolDatabase: { [key: string]: { zh: string; en: string } } = {
  'æ–°ç¬¦å·': { 
    zh: 'ä¸­æ–‡å«ä¹‰', 
    en: 'English meaning' 
  },
  // ... å…¶ä»–ç¬¦å·
};
```

é‡æ–°ç¼–è¯‘ï¼š

```bash
npm run build
```

### Q6ï¼šæ¢¦å¢ƒè§£æçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ

**6 æ­¥è§£ææµç¨‹**ï¼š

1. **æƒ…æ„Ÿåˆ†æ** - è¯†åˆ«æ¢¦å¢ƒæƒ…ç»ªåŸºè°ƒ
2. **ç¬¦å·æå–** - åŒ¹é… 50+ ç¬¦å·åº“
3. **è§„åˆ™åŒ¹é…** - åº”ç”¨ SomniumSage å¯å‘å¼è§„åˆ™
4. **AI å¢å¼º**ï¼ˆå¯é€‰ï¼‰- æ·±åº¦è§£æ
5. **å¿ƒç†æ´å¯Ÿ** - 10+ æ¨¡å¼åŒ¹é…
6. **ç»“æ„åŒ–è¾“å‡º** - JSON æ ¼å¼

### Q7ï¼šé‡å¤æ¢¦å¢ƒå¦‚ä½•æ ‡è®°ï¼Ÿ

è®¾ç½® `recurring` å‚æ•°ï¼š

```json
{
  "dream": "æ¢¦å¢ƒæè¿°",
  "recurring": true
}
```

ç³»ç»Ÿä¼šåœ¨è§£æä¸­ç‰¹åˆ«æ³¨æ˜å¹¶æä¾›é¢å¤–æ´å¯Ÿã€‚

### Q8ï¼šå¦‚ä½•æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€ï¼Ÿ

è®¿é—®å¥åº·æ£€æŸ¥æ¥å£ï¼š

```bash
curl http://localhost:3000/health
```

è¿”å›ï¼š

```json
{
  "status": "healthy",
  "timestamp": "2024-01-15T10:30:00.000Z",
  "features": {
    "sentiment_analysis": true,
    "ai_enhanced": false,
    "symbol_count": 50,
    "languages": ["zh-CN", "en-US"]
  }
}
```

---

## ğŸ“ æ”¯æŒä¸åé¦ˆ

### é¡¹ç›®åœ°å€
- **SomniumSage æºç **ï¼šhttps://github.com/zyaproxy-Jun/SomniumSage
- **MCP Server**ï¼šhttps://github.com/zyaproxy-Jun/divination-mcp-server

### æµ‹è¯•å‘½ä»¤
```bash
# å®Œæ•´æµ‹è¯•
node test-somniumsage-direct.js

# ç‰¹æ€§å±•ç¤º
node showcase-somniumsage.js

# å¤šæ ·æ€§æµ‹è¯•
node test-dream-variations.js
```

### æŠ¥å‘ŠæŸ¥çœ‹
- `SOMNIUMSAGE_INTEGRATION_REPORT.md` - å®Œæ•´é›†æˆæŠ¥å‘Š
- `DREAM_DIVERSITY_TEST_REPORT.md` - å¤šæ ·æ€§æµ‹è¯•
- `DREAM_SOURCE_VERIFICATION.md` - æºç éªŒè¯

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

1. **å¯åŠ¨æœåŠ¡**
   ```bash
   node api-server.js
   ```

2. **è®¿é—® Web ç•Œé¢**
   ```
   http://localhost:8080
   ```

3. **æˆ–ä½¿ç”¨ API**
   ```bash
   curl -X POST http://localhost:3000/api/dream \
     -H "Content-Type: application/json" \
     -d '{"dream":"æˆ‘åœ¨å¤©ç©ºä¸­é£ç¿”","language":"zh-CN"}'
   ```

4. **äº«å— SomniumSage å¸¦æ¥çš„æ™ºæ…§è§£æï¼** ğŸŒŸ

---

**æœ€åæ›´æ–°**ï¼š2024å¹´  
**ç‰ˆæœ¬**ï¼šSomniumSage Integration v1.0  
**ä½œè€…**ï¼šSomniumSage by makalin, MCP integration by zyaproxy-Jun
